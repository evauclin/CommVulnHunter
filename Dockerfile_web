FROM nginx:alpine

# Copier la configuration nginx AVANT les autres fichiers
COPY ./src/nginx.conf /etc/nginx/conf.d/default.conf

# Copier les fichiers statiques
COPY ./src/css /usr/share/nginx/html/css
COPY ./src/pages /usr/share/nginx/html/pages

# Optionnel: copier d'autres assets si ils existent
# COPY ./src/js /usr/share/nginx/html/js
# COPY ./src/images /usr/share/nginx/html/images

# Cr√©er un index.html simple si il n'existe pas
RUN echo '<html><head><title>CommVulnHunter</title></head><body><h1>CommVulnHunter</h1><p><a href="/pages/">Pages</a></p></body></html>' > /usr/share/nginx/html/index.html

EXPOSE 80

CMD ["nginx", "-g", "daemon off;"]